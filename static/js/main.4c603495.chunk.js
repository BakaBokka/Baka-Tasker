(this["webpackJsonpal-test"]=this["webpackJsonpal-test"]||[]).push([[0],{32:function(e,t,a){},33:function(e,t,a){},37:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a(0),s=a.n(n),r=a(11),o=a.n(r),i=(a(32),a(33),a(9)),l=a.n(i),d=a(7),u=a(14),j=a(12),m=a(10),b=a(54),O=a(59),f=a(55),h=a(56),x=a(58),g=a(18),p=a.n(g),_=(a(36),function(e){return p.a.locale("ru"),p()(e).format("L, h:mm:ss")}),v=function(e){return(e*(1e3/3600)).toFixed(2).toString().replace(/[,.]/g," \u0440\u0443\u0431\u043b\u0435\u0439 ")},N=function(e){return+e.slice(0,-7).replace(/( \u0440\u0443\u0431\u043b\u0435\u0439 )/g,".")/(1e3/3600)},k=function(e){var t="0".concat(e%60).slice(-2),a="".concat(Math.floor(e/60)),c="0".concat(+a%60).slice(-2),n="0".concat(Math.floor(e/3600)).slice(-2);return"".concat(n," : ").concat(c," : ").concat(t)},S=a(57);a(37);var y=function(e){var t=Object(n.useState)(""),a=Object(m.a)(t,2),s=a[0],r=a[1],o=Object(n.useState)(""),i=Object(m.a)(o,2),l=i[0],d=i[1],u="add"===e.modalType;return Object(n.useEffect)((function(){d(Object(S.a)())}),[s]),Object(c.jsxs)(f.a,{className:"AddTaskModal",show:u,onHide:e.onHide,centered:!0,autoFocus:!1,children:[Object(c.jsx)(f.a.Header,{closeButton:!0,children:Object(c.jsx)(f.a.Title,{children:"What's your new task?"})}),Object(c.jsx)(f.a.Body,{children:Object(c.jsxs)(h.a,{className:"AddTaskModal__form d-flex",autoComplete:"off",children:[Object(c.jsx)(h.a.Group,{className:"AddTaskModal__form-content",controlId:"form",children:Object(c.jsx)(h.a.Control,{className:"AddTaskModal__input",type:"text",placeholder:"Type your task here",value:s,onChange:function(e){return r(e.target.value)}})}),Object(c.jsx)(x.a,{className:"AddTaskModal__button",variant:"primary",type:"submit",onClick:function(t){return function(t){t.preventDefault();var a=new Date;e.addTask({text:s,id:l,date:_(a)}),e.onHide(),r("")}(t)},children:"Add"})]})})]})},C=a(26),T=a(25);a(42);var I=function(e){var t=e.columns,a=e.data,n=Object(T.useTable)({columns:t,data:a}),s=n.getTableProps,r=n.headerGroups,o=n.rows,i=n.prepareRow,l=n.footerGroups;return Object(c.jsxs)(C.a,Object(d.a)(Object(d.a)({striped:!0,bordered:!0,hover:!0,size:"lg"},s()),{},{children:[Object(c.jsx)("thead",{children:r.map((function(e){return Object(c.jsx)("tr",Object(d.a)(Object(d.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(c.jsx)("th",Object(d.a)(Object(d.a)({},e.getHeaderProps()),{},{children:e.render("Header")}))}))}))}))}),Object(c.jsx)("tbody",{children:o.map((function(e,t){return i(e),Object(c.jsx)("tr",Object(d.a)(Object(d.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(c.jsx)("td",Object(d.a)(Object(d.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))}),Object(c.jsx)("tfoot",{children:l.map((function(e){return Object(c.jsx)("tr",Object(d.a)(Object(d.a)({},e.getFooterGroupProps()),{},{children:e.headers.map((function(e){return Object(c.jsx)("td",Object(d.a)(Object(d.a)({},e.getFooterProps()),{},{children:e.render("Footer")}))}))}))}))})]}))};a(43);var w=function(e){var t="checkout"===e.modalType,a=Object(n.useMemo)((function(){return e.closedTasks}),[e.closedTasks]),r=Object(n.useMemo)((function(){return[{Header:"Task",accessor:"text"},{Header:"Timer",accessor:"timer"},{Header:"Summ",accessor:"summ",Footer:function(e){var t=s.a.useMemo((function(){return e.rows.reduce((function(e,t){return console.log(N(t.values.summ)),N(t.values.summ)+e}),0)}),[e.rows]);return Object(c.jsxs)(c.Fragment,{children:[" ",Object(c.jsx)("span",{style:{fontWeight:"bolder"},children:"Total:"}),"  ","".concat(v(t)," \u043a\u043e\u043f\u0435\u0435\u043a")]})}},{Header:"Date",accessor:"date"}]}),[]);return Object(c.jsxs)(f.a,{className:"CheckoutModal",show:t,onHide:e.onHide,centered:!0,autoFocus:!1,size:"xl",children:[Object(c.jsx)(f.a.Header,{closeButton:!0,children:Object(c.jsx)(f.a.Title,{children:"Give me more..."})}),Object(c.jsxs)(f.a.Body,{className:"CheckoutModal__content",children:[Object(c.jsx)(I,{data:a,columns:r}),Object(c.jsx)(x.a,{className:"CheckoutModal__button",variant:"primary",type:"submit",onClick:function(t){return function(t){t.preventDefault(),e.onHide()}(t)},children:"Do something button"})]})]})},P=a.p+"static/media/card-text.21416c42.svg";a(44);var J=function(e){return Object(c.jsx)(O.a,{className:"ToDoCard",id:""+e.id,children:Object(c.jsxs)(O.a.Body,{className:"ToDoCard__content d-flex p-2",children:[Object(c.jsxs)("div",{className:"ToDoCard__text-wrap d-flex",children:[Object(c.jsx)("img",{className:"ToDoCard__content-image mr-2",src:P,alt:"card icon"}),Object(c.jsx)(O.a.Title,{className:"ToDoCard__text text-secondary",children:e.todo})]}),Object(c.jsx)(x.a,{className:"ToDoCard__button mr-3 mb-2",size:"lg",id:""+e.id,onClick:function(){var t=new Date;e.startTask({text:e.todo,id:e.id,date:_(t)})},children:"Start"})]})})},D=a.p+"static/media/play-fill.446d2092.svg",K=a.p+"static/media/pause-fill.bba9440f.svg",H=(a(45),function(e){var t=Object(n.useRef)();Object(n.useEffect)((function(){!1===e.isPaused?t.current=setInterval((function(){e.setTimer((function(e){return e+1}))}),1e3):(clearInterval(t.current),localStorage.setItem("timer".concat(e.id),JSON.stringify(e.timer)))}),[e.isPaused]);var a=function(){e.setIsPaused(!e.isPaused)};return window.onbeforeunload=function(t){localStorage.setItem("timer".concat(e.id),JSON.stringify(e.timer))},Object(c.jsx)("div",{className:"Stopwatch",children:Object(c.jsxs)("div",{className:"Stopwatch__content",children:[Object(c.jsx)("p",{className:"Stopwatch__time",children:k(e.timer)}),Object(c.jsx)("div",{className:"buttons",children:e.isPaused?Object(c.jsx)("img",{className:"Stopwatch__image",src:D,alt:"play ico",onClick:a}):Object(c.jsx)("img",{className:"Stopwatch__image",src:K,alt:"pause ico",onClick:a})})]})})});a(46);var B=function(e){var t=localStorage.getItem("timer".concat(e.id))&&localStorage.getItem("timer".concat(e.id))||"",a=Object(n.useState)(+t),s=Object(m.a)(a,2),r=s[0],o=s[1],i=Object(n.useState)(!0),l=Object(m.a)(i,2),d=l[0],u=l[1];return Object(c.jsx)(O.a,{className:"InProgressCard",children:Object(c.jsxs)(O.a.Body,{className:"InProgressCard__content d-flex p-2",children:[Object(c.jsxs)("div",{className:"d-flex",children:[Object(c.jsx)("img",{className:"InProgressCard__content-image mr-2",src:P,alt:"card icon"}),Object(c.jsx)(O.a.Title,{className:"InProgressCard__text text-secondary",children:e.task})]}),Object(c.jsxs)("div",{className:"InProgressCard__controls d-flex",children:[Object(c.jsx)(H,{id:e.id,isPaused:d,setIsPaused:u,timer:r,setTimer:o}),Object(c.jsx)(x.a,{variant:"success",className:"InProgressCard__button",size:"lg",onClick:function(){var t=new Date;e.resolveTask({text:e.task,id:e.id,date:_(t),timer:k(r),summ:"".concat(v(r)," \u043a\u043e\u043f\u0435\u0435\u043a")}),u(!0)},children:"Resolve"})]})]})})};a(47);var M=function(e){return Object(c.jsx)(O.a,{className:"DoneCard",children:Object(c.jsxs)(O.a.Body,{className:"DoneCard__content d-flex p-2",children:[Object(c.jsxs)("div",{className:"d-flex",children:[Object(c.jsx)("img",{className:"DoneCard__content-image mr-2",src:P,alt:"card icon"}),Object(c.jsx)(O.a.Title,{className:"DoneCard__text text-secondary",children:e.task})]}),Object(c.jsx)("div",{className:"DoneCard__container d-flex",children:Object(c.jsxs)("div",{children:[Object(c.jsx)("p",{className:"DoneCard__time",children:e.timer}),Object(c.jsx)("span",{className:"DoneCard__summ",children:"".concat(e.summ)})]})})]})})};a(48);var F=function(e){return Object(c.jsxs)(x.a,{className:"CommonButton",variant:"outline-secondary",style:{fontWeight:"bolder"},onClick:e.onClick,children:[Object(c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",className:"CommonButton__image bi bi-plus",viewBox:"0 0 16 16",stroke:"currentColor",strokeWidth:"2",children:Object(c.jsx)("path",{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"})}),e.text]})};a(49),a(50);var A=function(){var e={tasks:localStorage.getItem("tasks")?JSON.parse(localStorage.getItem("tasks")||""):[],inProgress:localStorage.getItem("inProgress")?JSON.parse(localStorage.getItem("inProgress")||""):[],done:localStorage.getItem("done")?JSON.parse(localStorage.getItem("done")||""):[],closed:localStorage.getItem("closed")?JSON.parse(localStorage.getItem("closed")||""):[]},t=Object(n.useState)(e),a=Object(m.a)(t,2),s=a[0],r=a[1],o=Object(n.useState)(),i=Object(m.a)(o,2),f=i[0],h=i[1],x=function(){var t=Object(j.a)(l.a.mark((function t(a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,localStorage.setItem("tasks",JSON.stringify([].concat(Object(u.a)(s.tasks),[a])));case 2:r(Object(d.a)(Object(d.a)({},e),{},{tasks:JSON.parse(localStorage.getItem("tasks")||"")}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),g=function(){var t=Object(j.a)(l.a.mark((function t(a){var c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=s.tasks.filter((function(e){return e.id!==a})),t.next=3,localStorage.setItem("tasks",JSON.stringify(c));case 3:r(Object(d.a)(Object(d.a)({},e),{},{tasks:JSON.parse(localStorage.getItem("tasks")||"")}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=Object(j.a)(l.a.mark((function t(a){var c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=s.inProgress.filter((function(e){return e.id!==a})),t.next=3,localStorage.setItem("inProgress",JSON.stringify(c));case 3:r(Object(d.a)(Object(d.a)({},e),{},{inProgress:JSON.parse(localStorage.getItem("inProgress")||"")}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),_=function(){var t=Object(j.a)(l.a.mark((function t(a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return g(a.id),t.next=3,localStorage.setItem("inProgress",JSON.stringify([].concat(Object(u.a)(s.inProgress),[a])));case 3:r(Object(d.a)(Object(d.a)({},e),{},{tasks:JSON.parse(localStorage.getItem("tasks")||""),inProgress:JSON.parse(localStorage.getItem("inProgress")||"")}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=function(){var t=Object(j.a)(l.a.mark((function t(a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return p(a.id),t.next=3,localStorage.setItem("done",JSON.stringify([].concat(Object(u.a)(s.done),[a])));case 3:r(Object(d.a)(Object(d.a)({},e),{},{tasks:JSON.parse(localStorage.getItem("tasks")||""),inProgress:JSON.parse(localStorage.getItem("inProgress")||""),done:JSON.parse(localStorage.getItem("done")||"")})),localStorage.removeItem("timer".concat(a.id));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),N=function(){var t=Object(j.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,localStorage.setItem("closed",JSON.stringify([].concat(Object(u.a)(s.closed),Object(u.a)(s.done))));case 2:localStorage.removeItem("done"),r(Object(d.a)(Object(d.a)({},e),{},{done:[],closed:JSON.parse(localStorage.getItem("closed")||"")}));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),k=s.tasks&&s.tasks.map((function(e){return Object(c.jsx)(J,{todo:e.text,id:e.id,startTask:_},e.id)})),S=s.inProgress&&s.inProgress.map((function(e){return Object(c.jsx)(B,{task:e.text,id:e.id,resolveTask:v},e.id)})),C=s.done&&s.done.map((function(e){return Object(c.jsx)(M,{task:e.text,id:e.id,timer:e.timer,summ:e.summ},e.id)})),T=function(){h(void 0)};return Object(c.jsxs)("div",{className:"Kanban",children:[Object(c.jsx)(y,{onHide:T,id:1,addTask:x,modalType:f}),Object(c.jsx)(w,{onHide:T,modalType:f,closedTasks:s.closed}),Object(c.jsxs)(b.a,{className:"Kanban__content p-3 d-flex",children:[Object(c.jsxs)(O.a,{className:"Kanban__column",bg:"light",children:[Object(c.jsxs)(O.a.Body,{className:"Kanban__column-content p-2 mb-3",children:[Object(c.jsxs)("div",{className:"Kanban__column-header d-flex",children:[Object(c.jsx)("span",{className:"Kanban__counter",children:s.tasks&&s.tasks.length}),Object(c.jsx)(O.a.Title,{className:"Kanban__content-title",children:"To do"})]}),k]}),Object(c.jsx)("footer",{className:"Kanban__column-footer",children:Object(c.jsx)(F,{onClick:function(){return h("add")},text:"New Task"})})]}),Object(c.jsx)(O.a,{className:"Kanban__column",bg:"light",children:Object(c.jsxs)(O.a.Body,{className:"Kanban__column-content p-2",style:{height:"100%"},children:[Object(c.jsxs)("div",{className:"Kanban__column-header d-flex",children:[Object(c.jsx)("span",{className:"Kanban__counter",children:s.inProgress&&s.inProgress.length}),Object(c.jsx)(O.a.Title,{className:"Kanban__content-title",children:"In progress"})]}),S]})}),Object(c.jsxs)(O.a,{className:"Kanban__column",bg:"light",children:[Object(c.jsxs)(O.a.Body,{className:"Kanban__column-content p-2 mb-3",children:[Object(c.jsxs)("div",{className:"Kanban__column-header d-flex",children:[Object(c.jsx)("span",{className:"Kanban__counter",children:s.done&&s.done.length}),Object(c.jsx)(O.a.Title,{className:"Kanban__content-title",children:"Done"})]}),C]}),Object(c.jsx)("footer",{className:"Kanban__column-footer",children:Object(c.jsx)(F,{onClick:function(){h("checkout"),N()},text:"Checkout"})})]})]})]})};var G=function(){return Object(c.jsx)("div",{className:"App",children:Object(c.jsx)(A,{})})},z=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,60)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),c(e),n(e),s(e),r(e)}))};o.a.render(Object(c.jsx)(G,{}),document.getElementById("root")),z()}},[[51,1,2]]]);
//# sourceMappingURL=main.4c603495.chunk.js.map